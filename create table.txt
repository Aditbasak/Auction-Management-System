create table person(name varchar(10), email varchar(20), phone varchar(13), city varchar(13), primary key(name, email));

create table admin(admin_id varchar(10) primary key, password varchar(15), name varchar(10), email varchar(20), foreign key(name, email) references person(name, email));

create table sellers(seller_id varchar(10) primary key, password varchar(15), name varchar(10), email varchar(20), foreign key(name, email) references person(name, email));

create table users(user_id varchar(10) primary key, password varchar(15), name varchar(10), email varchar(20), foreign key(name, email) references person(name, email));

create table reviews(review_id varchar(10) primary key, rating int, reviewer_id varchar(10), r_desc varchar(50), check (rating >= 0 AND rating < 6), foreign key(reviewer_id) references users(user_id));

create table s_reviews(seller varchar(10), review_id varchar(10), primary key(seller, review_id), foreign key(seller) references sellers(seller_id), foreign key(review_id) references reviews(review_id));

create table products(product_id varchar(5) primary key, p_name varchar(15), p_desc varchar(50), baseprice int, seller varchar(10), foreign key(seller) references sellers(seller_id));

create table p_reviews(product_id varchar(5), review_id varchar(10), primary key(product_id, review_id), foreign key(product_id) references products(product_id), foreign key(review_id) references reviews(review_id));

create table shipment(shipment_id varchar(5) primary key, shipdate date, deliverydate date, product varchar(5), foreign key(product) references products(product_id));

create table auctions(auction_id varchar(5) primary key, bid_start timestamp, bid_end timestamp, current_bid int, bidder varchar(10), product varchar(5), foreign key(bidder) references users(user_id), foreign key(product) references products(product_id));

create table sellerproduct(seller varchar(10), product_id varchar(10), primary key(seller, product_id), foreign key(seller) references sellers(seller_id), foreign key(product_id) references products(product_id));

create table payments(payment_id varchar(10) primary key, pay_amount int, pay_mode varchar(15), payer varchar(10), auction_id varchar(5), foreign key(payer) references users(user_id), foreign key(auction_id) references auctions(auction_id));

create table bid_log(auction_id varchar(10), bid_no int, bidder varchar(10), bidtime timestamp, bid_amount int, primary key(auction_id, bid_no), foreign key(auction_id) references auctions(auction_id), foreign key(bidder) references users(user_id));

create table bids(bidder varchar(10), auction_id varchar(5), primary key(bidder, auction_id), foreign key(bidder) references users(user_id), foreign key(auction_id) references auctions(auction_id));

create table charges(admin_id varchar(10), auction_id varchar(5), auctionfees int, primary key(admin_id, auction_id), foreign key(admin_id) references admin(admin_id) on delete cascade, foreign key(auction_id) references auctions(auction_id) on delete cascade);